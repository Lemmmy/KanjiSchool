// Copyright (c) 2021-2023 Drew Edwards
// This file is part of KanjiSchool under AGPL-3.0.
// Full details: https://github.com/Lemmmy/KanjiSchool/blob/master/LICENSE

.site-header .site-header-progresses {
  display: flex;
  max-width: calc(100vw - 720px);
  overflow: hidden;
  margin-right: @margin-sm;

  position: relative;

  // Fade out on the right (in event of overflow)
  &:after {
    content: " ";

    display: block;
    width: @margin-lg;

    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;

    background: linear-gradient(90deg, fade(@layout-header-background, 0%) 0%, @layout-header-background 100%);
  }
}

.site-header .site-header-progress {
  display: flex;
  flex-direction: column;
  justify-content: center;

  height: @layout-header-height;
  padding-left: @margin-lg;
  padding-right: @margin-lg;

  border-left: 1px solid @border-color-split;

  &-top-row {
    color: @text-color-secondary;
    flex: 0;
    line-height: 1;
    font-size: @font-size-sm;

    display: flex;
    flex-direction: row;

    .site-header-progress-title {
      // Limit to a single line of text
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
    }

    .site-header-progress-count {
      display: inline-block;
      margin-left: 0.5em;
      color: fade(@white, 70%);
    }
  }

  .anticon-loading {
    color: @white;
    margin-left: @margin-sm;
  }

  .ant-progress {
    width: 220px;
  }

  // Hacks to make it fit vertically
  .ant-progress { height: 20px; }
  .ant-progress-text { line-height: 8px; }
}

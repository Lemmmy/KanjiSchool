// Copyright (c) 2021-2022 Drew Edwards
// This file is part of KanjiSchool under AGPL-3.0.
// Full details: https://github.com/Lemmmy/KanjiSchool/blob/master/LICENSE

.dashboard-summary-card {
  .ant-card-body {
    padding: 0;
  }

  .level-info-row {
    background: lighten(@component-background, 2.5%);

    border-top: 1px solid @border-color-split;
    border-bottom: 1px solid @border-color-split;

    margin-left: -1px; // border compensation

    .level-info-part {
      display: inline-block;

      padding: @margin-sm @card-padding-base;
      border-left: 1px solid @border-color-split;

      .label {
        display: inline-block;
        margin-right: @padding-xs;

        color: @text-color-secondary;
      }

      .not-started {
        color: fade(@text-color-secondary, 35%);
        font-style: italic;
      }

      @media (max-width: (@screen-md - 1px)) {
        padding: @padding-xs @padding-sm;
        font-size: @font-size-sm;
      }

      &.streak {
        .streak-current { color: @yellow-base; }
        &.current-zero .streak-current { color: @red-base; }
        &.today-in-streak .streak-current { color: @green-base; }
      }
    }
  }

  .summary-card-main {
    .ant-col {
      padding: @card-padding-base;

      border-right: 1px solid @border-color-split;

      @media (max-width: (@screen-sm - 1px)) {
        border-right: none;
        border-bottom: 1px solid @border-color-split;
      }

      &:last-child {
        border-right: none;
        border-bottom: none;
      }
    }
  }

  .summary-main-col {
    .top-row {
      display: flex;
    }

    .spacer { flex: 1; }

    .ant-statistic {
      line-height: 1;

      .ant-statistic-title {
        font-size: @font-size-lg;
      }

      .ant-statistic-content {
        font-size: @font-size-lg * 2;
      }
    }

    .upcoming-reviews-next {
      color: @text-color-secondary;
      line-height: 1;
    }
  }

  .summary-upcoming-reviews {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    font-size: @font-size-lg;

    span { display: block; }

    &.now .upcoming-reviews-next {
      color: @green-base;
    }

    @media (max-width: @screen-md) {
      margin-top: @margin-md;
    }
  }

  .available-assignments-table {
    margin-top: @margin-md;
    width: 100%;

    tr > th, tr > td {
      &:not(:first-child) {
        width: 40px;
        text-align: center;
      }
    }

    .txt { color: @text-color-secondary; }
    .radical { color: @color-radical; }
    .kanji { color: @color-kanji; }
    .vocab { color: @color-vocabulary; }

    @media (max-width: @screen-md) {
      margin-top: @margin-sm;
    }

    @media (max-width: @screen-xxl) {
      .txt { font-size: @font-size-sm; }
    }
  }

  .resume-session-row {
    .session-progress-container {
      margin-bottom: 0;

      background: darken(@component-background, 2.5%);
      border-top: 1px solid @border-color-split;
      height: 16px;
      border-radius: 0;

      .bar-part {
        height: 16px;
      }
    }

    .resume-session-inner {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: @margin-sm;
      flex-wrap: wrap;

      padding: @margin-sm;

      background: lighten(@component-background, 2.5%);
      border-top: 1px solid @border-color-split;
    }
  }

  .ant-card-head {
    padding-right: @padding-sm;
  }

  .ant-card-extra {
    padding: 0;
    align-self: stretch;

    .ant-btn {
      border: 0;
      height: calc(100% - 2px);
      margin: 1px 0;

      span:not(.ant-btn-loading-icon):not(.anticon) {
        line-height: 32px;
      }
    }
  }
}

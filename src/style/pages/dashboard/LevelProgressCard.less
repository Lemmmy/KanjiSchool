// Copyright (c) 2021-2023 Drew Edwards
// This file is part of KanjiSchool under AGPL-3.0.
// Full details: https://github.com/Lemmmy/KanjiSchool/blob/master/LICENSE

.dashboard-level-progress-card {
  .ant-card-body {
    // max-height: 240px;
    overflow-y: auto;
  }

  .level-progress-bars {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;

    user-select: none;

    .level {
      flex: 0;
      padding: 0 @padding-sm 0 0;
      text-align: center;

      // Remove half the bar's bottom margin from it to vertically center (hack)
      position: relative;
      top: -2px;
    }

    .bars {
      flex: 1;
    }

    & + .level-progress-bars {
      margin-top: @margin-xs;
    }
  }
}

@level-progress-bar-height: 24px;

.level-progress-bar {
  display: flex;
  flex-direction: row;
  justify-content: center;

  width: 100%;

  line-height: @level-progress-bar-height;

  .bar-type {
    display: inline-block;
    width: @level-progress-bar-height;

    text-align: left;
    font-size: @font-size-sm;
    color: @text-color-secondary;

    vertical-align: middle;
  }

  .bar-container {
    width: 100%;
    height: @level-progress-bar-height;
    margin-bottom: @padding-xss;

    flex: 1;
    position: relative;

    border-radius: @border-radius-base;
    overflow: hidden;

    .bar {
      display: inline-block;
      height: @level-progress-bar-height;

      cursor: pointer;

      transition: background @animation-duration-base ease;

      &.bar-passed { background: @color-srs-passed; }
      &.bar-appr4 { background: @color-srs-apprentice-4; }
      &.bar-appr3 { background: @color-srs-apprentice-3; }
      &.bar-appr2 { background: @color-srs-apprentice-2; }
      &.bar-appr1 { background: @color-srs-apprentice-1; }
      &.bar-init { background: @color-srs-initiate; }
      &.bar-locked { background: @color-srs-locked; }

      &:hover {
        &.bar-passed { background: @color-srs-passed-lighter; }
        &.bar-appr4 { background: @color-srs-apprentice-4-lighter; }
        &.bar-appr3 { background: @color-srs-apprentice-3-lighter; }
        &.bar-appr2 { background: @color-srs-apprentice-2-lighter; }
        &.bar-appr1 { background: @color-srs-apprentice-1-lighter; }
        &.bar-init { background: @color-srs-initiate-lighter; }
        &.bar-locked { background: @color-srs-locked-lighter; }
      }
    }

    .kanji-line {
      position: absolute;
      top: 0;
      bottom: 0;

      width: 2px;

      background: @black;
    }
  }
}

.level-progress-bar-main-tooltip {
  .ant-tooltip-inner {
    text-align: center;

    .level-head {
      width: 100%;
      padding-bottom: 2px;
      border-bottom: 1px solid fade(@white, 15%);
    }

    .txt {
      color: @text-color-secondary;
      font-size: @font-size-sm;
    }
  }
}
